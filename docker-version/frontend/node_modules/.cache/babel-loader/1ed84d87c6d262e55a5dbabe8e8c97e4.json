{"ast":null,"code":"var _jsxFileName = \"/home/user/IVAN/pryMovDev/reservation/src/components/home.js\";\nimport React, { Component, StyleSheet } from 'react';\nimport './home.css';\nimport logo from \"./logo.svg\";\n\nfunction EmptyP(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"posts-empty\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 13\n    }\n  }, \"NO HAY POSTS\"));\n}\n\nfunction Post(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post\",\n    key: props.post.key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }\n  }, props.post.username), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, props.post.date), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, props.post.post));\n}\n\nfunction Posts(props) {\n  // var url = 'http://localhost:4500/posts.php';\n  const data = props.dat;\n\n  if (data == void 0 || data.length < 1) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(EmptyP, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, data.map(p => /*#__PURE__*/React.createElement(Post, {\n    post: p,\n    key: p.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 24\n    }\n  })));\n}\n\nfunction LoadHome(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"home-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"ReactBook\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    className: \"App-logo\",\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"home-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"home-body-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, \"Options\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, \"Log out\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"home-body-newpost\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newpost\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    rows: \"6\",\n    cols: \"30\",\n    className: \"newpost-area\",\n    name: \"postArea\",\n    onChange: e => props.handlerArea(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newpost-options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    name: \"postB\",\n    onClick: e => props.handlerPost(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 34\n    }\n  }, \"Post\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    name: \"clearB\",\n    onClick: e => props.handlerClear(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 34\n    }\n  }, \"Clear\"))))), /*#__PURE__*/React.createElement(Posts, {\n    dat: props.datas,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"home-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default class home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      access: 'denied',\n      post: '',\n      username: \"\",\n      posts: [],\n      clicked: true\n    };\n    this.handlerClearClick = this.handlerClearClick.bind(this);\n    this.handlerPostClick = this.handlerPostClick.bind(this);\n    this.postChangeHandler = this.postChangeHandler.bind(this);\n  }\n\n  componentDidMount() {\n    this.getPosts();\n  }\n\n  async getPosts() {\n    var url = 'http://localhost:4500/posts.php';\n    const params = {\n      \"username\": this.state.username,\n      \"post\": this.state.post\n    };\n    this.setState({\n      loading: true\n    });\n    await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Access-Control-Allow-Origin': 'http://localhost:4500/posts.php',\n        'Accept': 'application/json',\n        //'text/plain',\n        'Connection': 'keep-alive',\n        'Origin': 'http://localhost:3000'\n      },\n      mode: 'cors',\n      Connection: 'keep',\n      body: params\n    }).then(response => response.json().then(res => {\n      this.setState({\n        posts: res\n      });\n      this.setState({\n        loading: true\n      });\n      console.log(this.state.posts);\n    })).catch(error => {\n      var res = {};\n      this.setState({\n        loading: true\n      });\n      this.setState({\n        posts: null\n      });\n    });\n  }\n\n  postChangeHandler(event) {\n    // this.setState({\n    //   [event.target.name]:event.target.value\n    // })\n    const x = document.getElementsByName(\"postArea\")[0].value;\n    this.setState(state => ({\n      post: x\n    })); // console.log(this.state.post);\n  }\n\n  async handlerPostClick(e) {\n    this.setState(state => ({\n      loading: true\n    }));\n    var url = 'http://localhost:4500/post.php'; // var url = 'http://172.19.0.3:4500/login.php';\n    // const req= await fetch(url, \n\n    this.setState({\n      loading: true\n    });\n    const req = 'hooolaa';\n    await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Access-Control-Allow-Origin': 'http://localhost:4500/post.php',\n        'Accept': 'application/json',\n        //'text/plain',\n        'Connection': 'keep-alive',\n        'Origin': 'http://localhost:3000',\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      Connection: 'keep',\n      body: req\n    }).then(response => response.json().then(res => {\n      //   this.setState({posts:res});     \n      //   this.setState({loading:true})\n      console.log(res);\n    })).catch(error => {\n      //   var res={};\n      //   this.setState({loading:true})    \n      //   this.setState({posts:null});     \n      console.log(error);\n    });\n  } // insertar em base de datos (usuario y post)\n\n\n  handlerClearClick(e) {\n    this.setState(state => ({\n      clicked: !state.clicked\n    }));\n    document.getElementsByName(\"post\")[0].value = '';\n    console.log(this.state.clicked);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(LoadHome, {\n      datas: this.state.posts,\n      handlerClear: this.handlerClearClick,\n      handlerPost: this.handlerPostClick,\n      handlerArea: this.postChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n;","map":{"version":3,"sources":["/home/user/IVAN/pryMovDev/reservation/src/components/home.js"],"names":["React","Component","StyleSheet","EmptyP","props","Post","post","key","username","date","Posts","data","dat","length","map","p","id","LoadHome","logo","e","handlerArea","handlerPost","handlerClear","datas","home","constructor","state","loading","access","posts","clicked","handlerClearClick","bind","handlerPostClick","postChangeHandler","componentDidMount","getPosts","url","params","setState","fetch","method","headers","mode","Connection","body","then","response","json","res","console","log","catch","error","event","x","document","getElementsByName","value","req","render"],"mappings":"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","sourcesContent":["import React, { Component, StyleSheet } from 'react';\nimport './home.css';\nimport logo from './logo.svg';\n\n\nfunction EmptyP(props){\n\n\n    return(\n\n        <div className=\"posts-empty\"> \n            <span>NO HAY POSTS</span>\n        </div>\n\n\n    );\n\n}\n\nfunction Post(props){\n    \n\n    return(\n        \n        <div className=\"post\" key={props.post.key}>\n            <div className='post-user'>{props.post.username}</div>\n            <div className='post-date'>{props.post.date}</div>\n            <div className='post-post'>{props.post.post}</div>\n        </div>\n\n    );\n}\n\n\nfunction Posts(props){\n\n\n    // var url = 'http://localhost:4500/posts.php';\n\n\n    const data=props.dat;\n\n    \n    if(data==void(0) || data.length<1)\n    {\n        return (\n            <div>\n                <EmptyP/>\n            </div>            \n        );\n    }\n\n    \n    \n    return(    \n        \n        <div className=\"post-div\">\n        {data.map(p => <Post post={p} key={p.id}/>)}\n        \n        </div>\n        \n\n\n    );\n}\n\nfunction LoadHome(props){\n\n    return(\n        <div className=\"home\">\n        <div className=\"home-header\">\n          <h2>ReactBook</h2>\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />   \n\n        </div>\n        <div className=\"home-body\">\n            <div className=\"home-body-header\"> \n                <div>Options</div> \n                <div>Log out</div>\n           </div>\n            <div className=\"home-body-newpost\"> \n                <div className=\"newpost\">           \n                        <textarea  rows=\"6\" cols=\"30\" className=\"newpost-area\" name=\"postArea\" onChange={e=>props.handlerArea(e)}/>\n                        <div className=\"newpost-options\">\n                            <div><button type=\"button\" name=\"postB\"  onClick={e=>props.handlerPost(e)}>Post</button ></div> \n                            <div><button type=\"button\" name=\"clearB\" onClick={e=>props.handlerClear(e)}>Clear</button></div>                    \n                        </div>\n                </div> \n            </div>\n\n                <Posts dat={props.datas}/>\n\n\n        </div>\n        <div className=\"home-footer\">\n\n        </div>\n      </div>\n);\n\n}\n\n\n\n\n\n\n\nexport default class home extends Component {\n  \n\n    constructor(props){\n        super(props);\n        this.state={\n          \n          loading:false,\n          access:'denied',\n          post:'',\n          username:\"\",\n          posts:[],      \n          clicked:true,\n          \n        }\n        this.handlerClearClick= this.handlerClearClick.bind(this);\n        this.handlerPostClick=this.handlerPostClick.bind(this);\n        this.postChangeHandler=this.postChangeHandler.bind(this);\n      }\n   \n      componentDidMount(){\n          this.getPosts();\n      }\n\n    async getPosts(){\n        var url = 'http://localhost:4500/posts.php';\n        const params={\"username\":this.state.username, \"post\":this.state.post}\n        \n        this.setState({loading:true})    \n    \n    \n        await fetch(url, {   \n    \n            method: 'POST',\n            headers: \n            {\n                'Access-Control-Allow-Origin': 'http://localhost:4500/posts.php',\n                'Accept': 'application/json',//'text/plain',\n                'Connection': 'keep-alive',\n                'Origin':'http://localhost:3000',\n            },\n            mode:'cors',\n            Connection:'keep',\n            body: params,\n    \n        })\n        .then(response => response.json()\n        .then(res=>{\n    \n\n              this.setState({posts:res});     \n              this.setState({loading:true})\n              console.log(this.state.posts);        \n         }))\n         .catch(error => {\n          var res={};\n          this.setState({loading:true})    \n          this.setState({posts:null});     \n        });\n\n    }\n\n    postChangeHandler(event){\n  \n        // this.setState({\n        //   [event.target.name]:event.target.value\n        // })\n        const x=document.getElementsByName(\"postArea\")[0].value;\n        this.setState(state => ({\n    \n            post:x,\n\n  \n        }));\n\n        // console.log(this.state.post);\n     \n    }\n\n    \n    async handlerPostClick(e) {\n  \n        this.setState(state => ({\n    \n          loading:true,\n\n        }));\n\n        var url = 'http://localhost:4500/post.php';\n\n        // var url = 'http://172.19.0.3:4500/login.php';\n    \n        // const req= await fetch(url, \n        \n        this.setState({loading:true})    \n        \n        const req='hooolaa';\n    \n        await fetch(url, {   \n    \n            method: 'POST',\n            headers: \n            {\n                'Access-Control-Allow-Origin': 'http://localhost:4500/post.php',\n                'Accept': 'application/json',//'text/plain',\n                'Connection': 'keep-alive',\n                'Origin':'http://localhost:3000',\n                'Content-Type' : 'application/json'\n            },\n            mode:'cors',\n            Connection:'keep',\n            body:req,\n        \n    \n        })\n        .then(response => response.json()\n        .then(res=>{\n    \n\n            //   this.setState({posts:res});     \n            //   this.setState({loading:true})\n              console.log(res);        \n         }))\n         .catch(error => {\n        //   var res={};\n        //   this.setState({loading:true})    \n        //   this.setState({posts:null});     \n            console.log(error)\n        });\n\n    }\n\n        // insertar em base de datos (usuario y post)\n\n\n\n    \n\n\n\n\n\n    handlerClearClick(e) {\n\n        this.setState(state => ({\n\n        clicked: !state.clicked\n        \n\n    }));\n        document.getElementsByName(\"post\")[0].value='';\n        console.log(this.state.clicked);\n    }\n    \n       \n\n    render(){\n        return (\n\n            <div>\n                <LoadHome datas={this.state.posts} handlerClear={this.handlerClearClick } \n                handlerPost={this.handlerPostClick} handlerArea={this.postChangeHandler}/>\n            </div>\n            \n\n\n        );\n    }\n\n};\n\n"]},"metadata":{},"sourceType":"module"}