{"ast":null,"code":"var _jsxFileName = \"/home/user/IVAN/pryMovDev/reservation/src/components/login.js\";\nimport React, { Component } from 'react';\nimport './login.css';\nimport logo from \"./logo.svg\";\nimport Signup, { signup } from './signup';\n\nfunction LoadSign(props) {\n  return /*#__PURE__*/React.createElement(Signup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 5\n    }\n  });\n}\n\nfunction LoadLogin(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    className: \"App-logo\",\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, \"LOGIN\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    action: \"localhost:4500/login.php\",\n    method: \"post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    onChange: props.saveText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    onChange: props.saveText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    onClick: e => props.sendLog(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    onClick: props.loadSign,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, \"Sign up\")));\n}\n\nexport default class login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      username: \"\",\n      password: \"\",\n      clicked: true\n    };\n    this.handleSignupClick = this.handleSignupClick.bind(this);\n    this.ChangeHandler = this.ChangeHandler.bind(this);\n    this.sendLogin = this.sendLogin.bind(this);\n  }\n\n  sendLogin(event) {\n    //deberia tener await?\n    event.preventDefault();\n    this.setState({\n      loading: true\n    });\n    let formData = new FormData();\n    formData.append('username', this.state.username);\n    formData.append('password', this.state.password);\n    var url = 'http://localhost:4500/login.php'; // var url = 'http://172.19.0.3:4500/login.php';\n    // const req= await fetch(url, \n\n    fetch(url, {\n      // headers: \n      // { \n      //   \"Access-Control-Allow-Origin\": '*',\n      //   \"Origin\": 'http://localhost:3000/',\n      // },\n      method: 'POST',\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Accept': 'application/json',\n        //'text/plain',\n        'Content-Type': 'multipart/form-data ',\n        'Connection': 'keep-alive'\n      },\n      body: formData,\n      mode: 'cors',\n      Connection: 'alive'\n    }).then(response => response.json().then(res => {\n      console.log(res);\n      this.setState({\n        loading: false\n      });\n    })).catch(error => {\n      console.error('There was an error!', error);\n    });\n  }\n\n  handleSignupClick() {\n    this.setState(state => ({\n      clicked: !state.clicked\n    }));\n  }\n\n  ChangeHandler(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 7\n      }\n    }, this.state.clicked ? /*#__PURE__*/React.createElement(LoadLogin, {\n      loadSign: this.handleSignupClick,\n      saveText: this.ChangeHandler,\n      sendLog: this.sendLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 32\n      }\n    }) : /*#__PURE__*/React.createElement(LoadSign, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 136\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/user/IVAN/pryMovDev/reservation/src/components/login.js"],"names":["React","Component","Signup","signup","LoadSign","props","LoadLogin","logo","saveText","e","sendLog","loadSign","login","constructor","state","loading","username","password","clicked","handleSignupClick","bind","ChangeHandler","sendLogin","event","preventDefault","setState","formData","FormData","append","url","fetch","method","headers","body","mode","Connection","then","response","json","res","console","log","catch","error","target","name","value","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './login.css';\nimport logo from './logo.svg';\nimport Signup,{signup} from './signup';\n\n\nfunction LoadSign(props){\n\n\n  return (\n  \n    <Signup/>\n    \n    );\n}\n\n\n    \nfunction LoadLogin(props){\n\n\n\n\n\n  return (      \n    <div className=\"login\">\n      <div className=\"login-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <h2>LOGIN</h2>    \n      </div>\n      <div className=\"login-body\">\n        <form action=\"localhost:4500/login.php\" method=\"post\">\n        <label>Username</label>\n        <input type=\"text\" name=\"username\" onChange={props.saveText}/>\n        <br/>\n        <label>Password</label>\n        <input type=\"password\" name=\"password\" onChange={props.saveText}/>\n        <br/>\n        <input type=\"submit\" value=\"Submit\" onClick={e => props.sendLog(e)} />\n        </form>\n      </div>\n      <div className=\"login-footer\">\n        <a href=\"#\" onClick={props.loadSign}>\n            Sign up\n        </a>\n      </div>\n    </div>\n  );\n\n  \n\n}\n    \n    \nexport default class login extends Component{\n  \n  constructor(props){\n    super(props);\n    this.state={\n      loading:false,\n      username:\"\",\n      password:\"\",\n      clicked:true,\n    }\n    this.handleSignupClick= this.handleSignupClick.bind(this);\n    this.ChangeHandler=this.ChangeHandler.bind(this);\n    this.sendLogin=this.sendLogin.bind(this);\n  }\n  \n\n\n\n  sendLogin(event){ //deberia tener await?\n\n    event.preventDefault();\n    \n    this.setState({loading:true})    \n    let formData = new FormData();\n    formData.append('username', this.state.username)\n    formData.append('password', this.state.password)\n\n\n    var url = 'http://localhost:4500/login.php';\n\n    // var url = 'http://172.19.0.3:4500/login.php';\n\n    // const req= await fetch(url, \n    \n\n\n\n    fetch(url, {   \n        // headers: \n        // { \n        //   \"Access-Control-Allow-Origin\": '*',\n        //   \"Origin\": 'http://localhost:3000/',\n\n\n        // },\n        method: 'POST',\n        headers: \n        {\n            'Access-Control-Allow-Origin': '*',\n            'Accept': 'application/json',//'text/plain',\n            'Content-Type': 'multipart/form-data ',\n            'Connection': 'keep-alive',\n        },\n        body: formData,\n        mode:'cors',\n        Connection:'alive'\n\n    })\n    .then(response => response.json()\n    .then(res=>{\n\n          console.log(res);\n          this.setState({loading:false})    \n     }))\n     .catch(error => {\n        console.error('There was an error!', error);\n    });\n\n\n \n    \n\n\n  };\n      \n  handleSignupClick() {\n  \n    this.setState(state => ({\n\n      clicked: !state.clicked\n    }));\n\n  }\n\n\n  ChangeHandler(event){\n\n\n  \n    this.setState({\n      [event.target.name]:event.target.value\n    })\n\n\n  }\n  \n  render(){\n\n  return (\n      <div>\n        {this.state.clicked ?  <LoadLogin loadSign={this.handleSignupClick} saveText={this.ChangeHandler} sendLog={this.sendLogin} /> :<LoadSign/>}    \n      </div>\n\n\n  );\n\n  }\n  \n}\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}